<app-page title="Create Customer">
  <form
    clrForm
    clrLayout="vertical"
    [ngrxFormState]="formCustomerState$ | async"
    (submit)="submit()"
  >
    <div class="card">
      <div class="card-block">
        <clr-input-container>
          <label class="clr-col-12 clr-col-md-4">ID</label>
          <input
            name="customer_id"
            type="text"
            clrInput
            [ngrxFormControlState]="(formCustomerState$ | async).controls.id"
            class="clr-col-12 clr-col-md-8"
          />
          <clr-control-error>ID Required</clr-control-error>
        </clr-input-container>

        <clr-input-container>
          <label class="clr-col-12 clr-col-md-4">Name</label>
          <input
            type="text"
            clrInput
            [ngrxFormControlState]="(formCustomerState$ | async).controls.name"
            class="clr-col-12 clr-col-md-8"
          />
          <clr-control-error
            *clrIfError="(formCustomerState$ | async).errors._name?.required"
            >Name Required</clr-control-error
          >
        </clr-input-container>
        <!-- <ngrx-input
          name="customer_id"
          label="ID"
          [ngrxFormControlState]="(formCustomerState$ | async).controls.name"
        ></ngrx-input> -->
      </div>
      <div class="card-footer">
        <button
          class="btn btn-primary"
          type="submit"
          [clrLoading]="submitBtnState$ | async"
        >
          <clr-icon shape="floppy"></clr-icon>
          Save
        </button>
        <button
          class="btn"
          type="button"
          (click)="resetForm()"
          [disabled]="
            (formCustomerState$ | async).isPristine &&
            (formCustomerState$ | async).isUntouched &&
            (formCustomerState$ | async).isUnsubmitted
          "
        >
          <clr-icon shape="eraser"></clr-icon>
          Reset
        </button>
      </div>
    </div>
  </form>
</app-page>
